FROM python:3.10-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir torch==2.0.1 torchvision==0.15.2 flask==3.0.0 minio==7.2.0

# Copy inference script
COPY serve.py .

# Expose port
EXPOSE 8080

# Run the server
CMD ["python", "serve.py"]